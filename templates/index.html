<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LocalBeat // Main Menu</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div id="page-transition"></div>

    <div id="overlay-start" onclick="initExperience()">
        <h1 style="color:white; font-family:'Orbitron'; letter-spacing:5px;">CLICK TO INITIALIZE</h1>
    </div>

    <div id="jukebox-notif" class="jukebox-notif">
        <div style="font-size:2rem;">ðŸŽµ</div>
        <div>
            <div style="font-size:0.8rem; color:#aaa; text-transform:uppercase;">Now Playing</div>
            <div id="bgm-title" style="white-space:nowrap;">Loading...</div>
        </div>
    </div>

    <canvas id="visualizer-canvas"></canvas>

    <div class="landing-wrapper">
        <div class="hero-title">LOCALBEAT</div>
        <div class="hero-subtitle">SYSTEM VERSION 2.0</div>

        <div class="control-panel">
            <div style="display:flex; flex-direction:column; align-items:center;">
                <label style="font-size:0.8rem; color:#aaa; margin-bottom:5px;">QUESTIONS</label>
                <div style="display:flex; align-items:center; gap:10px;">
                    <span style="font-family:'Orbitron'; font-size:1.5rem;">10</span>
                    <input type="range" id="q-count" min="10" max="50" step="10" value="20" oninput="document.getElementById('q-val').innerText=this.value">
                    <span style="font-family:'Orbitron'; font-size:1.5rem;" id="q-val">20</span>
                </div>
            </div>
            <div style="width:1px; height:50px; background:rgba(255,255,255,0.2); margin:0 20px;"></div>
            <button class="btn-main" onclick="startGame()">START SESSION</button>
        </div>

        <div style="margin-top:20px;">
            <button onclick="quitApp()" style="background:none; border:none; color:#555; cursor:pointer; font-family:'Rajdhani'; letter-spacing:2px;">SHUTDOWN SYSTEM</button>
        </div>
    </div>

    <audio id="bgm-player" crossorigin="anonymous"></audio>

    <script src="{{ url_for('static', filename='js/landing.js') }}"></script>
    <script>
        function quitApp() {
            if(confirm("Shutdown LocalBeat?")) {
                fetch('/shutdown', {method:'POST'}).then(() => window.close());
            }
        }
    </script>
</body>
</html>