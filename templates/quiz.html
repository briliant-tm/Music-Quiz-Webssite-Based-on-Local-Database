<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>LocalBeat // Arena</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div id="page-transition" style="opacity:1;"></div>

    <div id="dynamic-bg"></div>
    <canvas id="visualizer-canvas"></canvas>

    <div id="overlay-countdown">
        <div class="countdown-number" id="countdown-text">3</div>
        <div style="color:var(--secondary); letter-spacing:8px; margin-top:20px; font-weight:bold;" id="countdown-sub">LOADING ASSETS...</div>
    </div>

    <div id="overlay-gameover">
        <div class="result-card">
            <h2 style="margin:0; letter-spacing:5px; color:#fff;">SESSION COMPLETE</h2>
            <div class="score-big" id="final-score">0</div>
            <div style="display:flex; gap:20px; justify-content:center;">
                <button class="btn-main" onclick="location.href='/'">MAIN MENU</button>
                <button class="btn-main" onclick="location.reload()">RETRY</button>
            </div>
        </div>
    </div>

    <div class="quiz-wrapper" id="content-wrapper">
        <div class="game-hud">
            Q: <span id="q-current" class="highlight">1</span>/<span id="q-total">20</span>
            <span style="margin:0 15px; color:#555;">|</span>
            SCORE: <span id="score-display" class="highlight">0</span>
        </div>

        <div class="clue-container">
            <div class="clue-label">DATA SOURCE</div>
            <div class="clue-text" id="clue-text">...</div>
            <div id="mode-badge" style="background:rgba(0,0,0,0.6); display:inline-block; padding:8px 15px; font-size:1rem; border-radius:4px; border:1px solid var(--border); letter-spacing:2px;">Wait...</div>
        </div>

        <div class="progress-container">
            <div id="progress-fill" class="progress-fill"></div>
        </div>

        <div style="margin:30px 0;">
            <button id="btn-replay" class="btn-main" style="padding:12px 40px; font-size:1rem;" onclick="triggerReplay()">
                PLAY (3)
            </button>
        </div>

        <div class="options-grid" id="options-container">
            </div>
    </div>

    <audio id="game-audio" crossorigin="anonymous"></audio>
    <script src="{{ url_for('static', filename='js/quiz.js') }}"></script>
</body>
</html>